##

作者：@何塘几色

题目：在一个箱子里有编号分别为1到3n的3n个号码，要求在场的所有人分别抽取一个，
若抽取到号码大于3且为3的倍数，则弃之再次抽取直到其为3或不是3的倍数。问题：至少在场多少人，
才能使无论抽取的情况如何，都存在四个不同的1到3n的号码，使得这四个号码中任意三个号码和都可以在在场的所有人号码中找到？
（在场人数不超过2n，每个人有且仅有一个号码）
（一）转化命题
设在场人数为k，存在1到3n之间的四个号码a，b，c，d满足题意
不妨设 a\lt b\lt c\lt d,A=a+b+c,B=a+b+d,C=a+c+d,D=b+c+d, 
这样这四个人号码为A、B、C、D
∴ A\lt B\lt C\lt D，A\ge 1,d\le 3n, 且a,b,c,d\in Z 
① 且 
② 是3的倍数； 
③ 
当上述三个条件同时成立时，有 ，即 为整数．
对于确定的整数 ，可以推导出 ：
原命题转化为：对于M为所有人号码构成的集合， ， 是3的倍数
所有 都存在这样的 ,求k的最小值
（二）调整
∵ 是3的倍数且 中不存在大于3的3的倍数，
显然， 中两者除以3余数为1，另两者余数为2，我们不妨讨论不存在 的 ：
（我们讨论取最大值最好的情况）
情况①：人们抽完了所有为余数为1 的号码时，
不妨设集合 ，将 与 插入集合 ；
令 ，这里只需讨论两个仅次于 的余数为1的数 和 ，有
 ，解得 ，即对于插入大于等于8的两个数则会	有符合条件的 ，因此要想没有 ，只能插入一个 ，此时 
情况②：人们抽完了所有为余数为2 的号码时，
不妨设集合 ，欲将 与 插入集合 ；
同理， ，解得 ，若插入7和大于其的一个数，可检验其不成立性，此时只能插入一个数，此时仍有 
综上可得 下面证明 （没有抽完余数为1和余数为2的任意一类号码）
以集合 为对象讨论，不考虑１，２，３，４，５
我们把集合 去掉 个余数为１的元素，再加上 个余数为２的元素，此时 
不重复插入和去掉的步骤，这样我们得到的集合可以表示任意的集合 ，只需证 
①在集合 中插入的不连续的元素，设插入 ，即 与 均不插入；
1）由上述情况，若 不是第一个插入的元素，则必将存在 以及小于他		们的一个余数为２的数（因为它不是第一个被插入的而且一定大于等于８，四个数的和不减）		满足情况１中的 ，并且这四组数除了最小的与其他不连续的四组数互不相交，因		此必须去掉 中的一个，即插入元素个数等于删除元素个数．
2）若 是第一个插入的元素，不作删除处理，元素删去数少一个．
②在集合 中插入的连续的 个元素，表示为 ；
1）先讨论 是第一个插入的元素，那么会有前面的一个插入项构成				 ，因此需要删去所有满足条件的余数为1的数，即删除了 	个元素；
2）若 不是第一个插入的元素，如上述讨论情况，其中允许存在一个余数为1的数，若		再出现一个数则符合条件，此时删除了 个元素；
无论①或②，插入第一项的删除元素数至少比插入数多1，插入后面项的删除元素数必须大于等于插入数！
此时我们可以得到 ，即 ，再多取一个元素则有满足条件的 
∴ ．即最少在场（n+5）个人．


